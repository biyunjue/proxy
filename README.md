## 代理模式

### 定义
    
    为其他对象提供一种代理，以控制对这个对象得访问。代理对象在客户端和目标对象之间起到中介作用，
    代理模式属于结构性模式。使用代理有两个作用，保护目标对象，增强目标对象

### JDKProxy生成对象得步骤

    1、拿到被代理对象的引用，并且获取到它的所有的接口，反射获取。
    2、JDK Proxy 类重新生成一个新的类、同时新的类要实现被代理类所有实现的所有的接口。
    3、动态生成 Java 代码，把新加的业务逻辑方法由一定的逻辑代码去调用（在代码中体现）。
    4、编译新生成的 Java 代码.class。
    5、再重新加载到 JVM 中运行。   
    
    
#### 为什么JDK动态代理中要求目标类实现的接口数量不能超过65535个？    
    因为在class文件中，接口个数都是用4位16进制表示的，最大值是2的16次方-1 
    
    由于Class文件中方法，字段等都需要引用CONSTAN_Utf8_info型常量来描述名称，
    所以CONSTAN_Utf8_info类型常量的最大长度也就是Java方法，字段名的最大长度。
    而这里的最大长度就是length的最大值，既u2类型能表达的最大值65535.
    所以Java程序中如果定义了超过64KB英文字符的变量和方法名，将会无法编译。
    
    生成的代理类不得超过施加的任何限制在虚拟机的类上。 例如, VM 可能会限制
    类可以实现到65535的接口数;在在这种情况下, {@code 接口} 数组的大小不能
    超过65535。
    
    